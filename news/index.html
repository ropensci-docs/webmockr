<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • webmockr</title><!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://docs.ropensci.org/webmockr/logo.png"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css"><script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">webmockr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.2.91</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/webmockr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ropensci/webmockr/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="webmockr-100">webmockr 1.0.0<a class="anchor" aria-label="anchor" href="#webmockr-100"></a></h2><p class="text-muted">CRAN release: 2024-07-23</p>
<div class="section level4">
<h4 id="new-features-1-0-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-1-0-0"></a></h4>
<ul><li>
<code>webmockr</code> now supports the <code>httr2</code> library, in addition to <code>httr</code> and <code>crul</code>. Note that you’ll see different behavior from <code>httr2</code> relative to the other 2 http clients because it turns http errors (http statuses 400 and above) into R errors (<a href="https://github.com/ropensci/webmockr/issues/122" class="external-link">#122</a>)</li>
<li>
<code>webmockr</code> can now mock async http requests with <code>crul</code> (w/ <code>crul</code> v1.5 or greater). no change was required in <code>webmockr</code> for this to happen. a PR was merged in <code>crul</code> to hook into <code>webmockr</code>. there’s no support for async in <code>httr</code> as that package does not do any async and no support in <code>httr2</code> because <code>req_perform_parallel</code> does not have a mocking hook as does <code>req_perform</code> (<a href="https://github.com/ropensci/webmockr/issues/124" class="external-link">#124</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="webmockr-090">webmockr 0.9.0<a class="anchor" aria-label="anchor" href="#webmockr-090"></a></h2><p class="text-muted">CRAN release: 2023-02-28</p>
<div class="section level4">
<h4 id="bug-fixes-0-9-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h4>
<ul><li>
<code><a href="../reference/to_return.html">to_return()</a></code> supports returning multiple responses to match many requests to the same matching stub. however, the internals were broken for this, but is now fixed (<a href="https://github.com/ropensci/webmockr/issues/115" class="external-link">#115</a>) thanks <a href="https://github.com/kenahoo" class="external-link">@kenahoo</a> for the report</li>
<li>matching stubs with specifying a request body to match on (e.g., <code>stub_request('post', 'https://httpbin.org/post') %&gt;% wi_th(body = list(a=5))</code>) was not working in some cases; internal matching logic was borked. now fixed. (<a href="https://github.com/ropensci/webmockr/issues/118" class="external-link">#118</a>) thanks <a href="https://github.com/konradoberwimmer" class="external-link">@konradoberwimmer</a> for the report</li>
<li>The <code>status</code> parameter in <code><a href="../reference/to_return.html">to_return()</a></code> was documented to accept an integer, but it errored when an integer was passed (e.g., <code>to_return(status=200L)</code>). This bug is now fixed (<a href="https://github.com/ropensci/webmockr/issues/117" class="external-link">#117</a>) thanks <a href="https://github.com/maelle" class="external-link">@maelle</a> for the report</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-9-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-9-0"></a></h4>
<ul><li>Config options changes (see <code><a href="../reference/webmockr_configure.html">webmockr_configure()</a></code>). Three options that were presentg but not implemented are now removed: <code>show_body_diff</code>, <code>query_values_notation</code>, <code>net_http_connect_on_start</code>. One option that was present but not implemented yet is now implemented: <code>show_stubbing_instructions</code> (<a href="https://github.com/ropensci/webmockr/issues/27" class="external-link">#27</a>) (<a href="https://github.com/ropensci/webmockr/issues/120" class="external-link">#120</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-0-9-0">DOCUMENTATION<a class="anchor" aria-label="anchor" href="#documentation-0-9-0"></a></h4>
<ul><li>
<code>StubCounter</code> added to pkgdown docs page at <a href="https://docs.ropensci.org/webmockr/reference/StubCounter.html" class="uri">https://docs.ropensci.org/webmockr/reference/StubCounter.html</a> (<a href="https://github.com/ropensci/webmockr/issues/119" class="external-link">#119</a>) <a href="https://github.com/maelle" class="external-link">@maelle</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.2" id="webmockr-082">webmockr 0.8.2<a class="anchor" aria-label="anchor" href="#webmockr-082"></a></h2><p class="text-muted">CRAN release: 2022-08-28</p>
<div class="section level4">
<h4 id="bug-fixes-0-8-2">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-2"></a></h4>
<ul><li>change to <code>UriPattern</code> to make sure regex matching is working as intended (<a href="https://github.com/ropensci/webmockr/issues/114" class="external-link">#114</a>) thanks <a href="https://github.com/kenahoo" class="external-link">@kenahoo</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="webmockr-080">webmockr 0.8.0<a class="anchor" aria-label="anchor" href="#webmockr-080"></a></h2><p class="text-muted">CRAN release: 2021-03-14</p>
<div class="section level4">
<h4 id="new-features-0-8-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-8-0"></a></h4>
<ul><li>
<code><a href="../reference/enable.html">enable()</a></code> and the <code><a href="../reference/enable.html">enable()</a></code> method on the <code>Adapter</code> R6 class gain new parameter <code>quiet</code> to toggle whether messages are printed or not (<a href="https://github.com/ropensci/webmockr/issues/112" class="external-link">#112</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-8-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-8-0"></a></h4>
<ul><li>to re-create http response objects for both httr and crul we were using the url from the request object; now we use the url from the response object, BUT if there is no url in the response object we fall back to using the url from the request object (<a href="https://github.com/ropensci/webmockr/issues/110" class="external-link">#110</a>) (<a href="https://github.com/ropensci/webmockr/issues/113" class="external-link">#113</a>)</li>
<li>improve docs: add further explanation to manual files for both <code><a href="../reference/to_raise.html">to_raise()</a></code> and <code><a href="../reference/to_return.html">to_return()</a></code> to explain the differenc between them and when you may want to use them (<a href="https://github.com/ropensci/webmockr/issues/100" class="external-link">#100</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.4" id="webmockr-074">webmockr 0.7.4<a class="anchor" aria-label="anchor" href="#webmockr-074"></a></h2><p class="text-muted">CRAN release: 2020-12-09</p>
<div class="section level4">
<h4 id="minor-improvements-0-7-4">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-7-4"></a></h4>
<ul><li>to support vcr being able to recreate httr objects fully (see github issue ropensci/vcr#132) we needed to handle additional parts of httr request objects: fields and output - with this change vcr should return objects much closer to what real httr requests return (<a href="https://github.com/ropensci/webmockr/issues/109" class="external-link">#109</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-4">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-4"></a></h4>
<ul><li>bug fix + improvement: fixes for simple authentication - <code><a href="../reference/wi_th.html">wi_th()</a></code> now supports <code>basic_auth</code> to mock basic authentication either with <code><a href="https://docs.ropensci.org/crul/reference/auth.html" class="external-link">crul::auth()</a></code> or <code><a href="https://httr.r-lib.org/reference/authenticate.html" class="external-link">httr::authenticate()</a></code> (<a href="https://github.com/ropensci/webmockr/issues/108" class="external-link">#108</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="webmockr-070">webmockr 0.7.0<a class="anchor" aria-label="anchor" href="#webmockr-070"></a></h2><p class="text-muted">CRAN release: 2020-09-30</p>
<div class="section level4">
<h4 id="new-features-0-7-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-7-0"></a></h4>
<ul><li>Gains ability to define more than 1 returned HTTP response, and the order in which the HTTP responses are returned. The idea is from the Ruby webmock library, but the implementation is different because the Ruby and R languages are very different. You can give more than one <code><a href="../reference/to_return.html">to_return()</a></code> one creating a stub, or if you want to return the same response each time, you can use the new <code>times</code> parameter within <code><a href="../reference/to_return.html">to_return()</a></code>. As a related use case (<a href="https://github.com/ropensci/webmockr/issues/31" class="external-link">#31</a>) you can mock http retry’s using this new feature (<a href="https://github.com/ropensci/webmockr/issues/10" class="external-link">#10</a>) (<a href="https://github.com/ropensci/webmockr/issues/32" class="external-link">#32</a>) (<a href="https://github.com/ropensci/webmockr/issues/101" class="external-link">#101</a>)</li>
<li>Gains new function <code><a href="../reference/webmockr_reset.html">webmockr_reset()</a></code> to be able to reset stub registry and request registry in one function call (<a href="https://github.com/ropensci/webmockr/issues/97" class="external-link">#97</a>) (<a href="https://github.com/ropensci/webmockr/issues/101" class="external-link">#101</a>)</li>
<li>Gains support for mocking simple authentication. <code><a href="../reference/wi_th.html">wi_th()</a></code> now accepts <code>basic_auth</code> in addition to query, body, and headers. Note that authentication type is ignored (<a href="https://github.com/ropensci/webmockr/issues/103" class="external-link">#103</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-7-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-7-0"></a></h4>
<ul><li>change to how URI’s are matched in <code><a href="../reference/stub_request.html">stub_request()</a></code>: we weren’t allowing matching URI’s without schemes; you can now do that. In addition, webmockr can match URI’s without the “http” scheme, but does not match if the scheme is “https”. See <code>UriPattern</code> for more (<a href="https://github.com/ropensci/webmockr/issues/102" class="external-link">#102</a>)</li>
<li>another change to how URI’s are matched: now query params compared separately to the URI; note that regex not allowed in query params (<a href="https://github.com/ropensci/webmockr/issues/104" class="external-link">#104</a>) - And now query parameters are compared with the same code both when regex uri is used and when it is not (<a href="https://github.com/ropensci/webmockr/issues/107" class="external-link">#107</a>)</li>
<li>URI matching for stubs is now done only on the URI’s themselves; that is, query parameters are removed before comparison, so only the base url with http scheme, plus paths, are compared (<a href="https://github.com/ropensci/webmockr/issues/107" class="external-link">#107</a>)</li>
<li>wasn’t sure <code>write_disk_path</code> behavior was correct when using httr, seems to be working, added tests for it (<a href="https://github.com/ropensci/webmockr/issues/79" class="external-link">#79</a>)</li>
<li>values for query parameters given to <code><a href="../reference/wi_th.html">wi_th()</a></code> are now all coerced to character class to make sure that all comparisons of stubs and requests are done with the same class (character) (<a href="https://github.com/ropensci/webmockr/issues/107" class="external-link">#107</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-0"></a></h4>
<ul><li>fix for <code>uri_regex</code> usage in <code><a href="../reference/stub_request.html">stub_request()</a></code>: no longer curl escape the <code>uri_regex</code> given, only escape a non-regex uri (<a href="https://github.com/ropensci/webmockr/issues/106" class="external-link">#106</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.2" id="webmockr-062">webmockr 0.6.2<a class="anchor" aria-label="anchor" href="#webmockr-062"></a></h2><p class="text-muted">CRAN release: 2020-03-24</p>
<ul><li>change to <code>CrulAdapter</code>: do not use <code>normalizePath</code> on the <code>write_disk_path</code> path so that relative paths are not changed to full paths - added tests for this (<a href="https://github.com/ropensci/webmockr/issues/95" class="external-link">#95</a>) (<a href="https://github.com/ropensci/webmockr/issues/96" class="external-link">#96</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="webmockr-060">webmockr 0.6.0<a class="anchor" aria-label="anchor" href="#webmockr-060"></a></h2><p class="text-muted">CRAN release: 2020-03-02</p>
<div class="section level4">
<h4 id="new-features-0-6-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-6-0"></a></h4>
<ul><li>new <code>Adapter</code> class to consolidate common code for the <code>HttrAdapter</code> and <code>CrulAdapter</code> classes, which inherit from <code>Adapter</code>; not a user facing change (<a href="https://github.com/ropensci/webmockr/issues/87" class="external-link">#87</a>)</li>
<li>pkgdown documentation site gains grouping of functions to help the user navigate the package: see <a href="https://docs.ropensci.org/webmockr/reference/" class="uri">https://docs.ropensci.org/webmockr/reference/</a> (<a href="https://github.com/ropensci/webmockr/issues/93" class="external-link">#93</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-6-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-6-0"></a></h4>
<ul><li>now correctly fails with informative message when <code>write_disk_path</code> is <code>NULL</code> when the user is trying to write to disk while using webmockr (<a href="https://github.com/ropensci/webmockr/issues/78" class="external-link">#78</a>)</li>
<li>improve README construction; use html child for the details section (<a href="https://github.com/ropensci/webmockr/issues/81" class="external-link">#81</a>)</li>
<li>fix matching stub matching for bodies when bodies are JSON encoded (<a href="https://github.com/ropensci/webmockr/issues/82" class="external-link">#82</a>)</li>
<li>when vcr was loaded real HTTP requests were being performed twice when they should have only been performed once (<a href="https://github.com/ropensci/webmockr/issues/91" class="external-link">#91</a>) (<a href="https://github.com/ropensci/webmockr/issues/92" class="external-link">#92</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-6-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-0"></a></h4>
<ul><li>fix for <code>set_body()</code> method in the <code>Response</code> class - handle cases where user writing to disk and not, and handle raw bytes correctly (<a href="https://github.com/ropensci/webmockr/issues/80" class="external-link">#80</a>)</li>
<li>fix to <code>to_s()</code> method in <code>StubbedRequest</code> class - was formatting query parameters incorrectly (<a href="https://github.com/ropensci/webmockr/issues/83" class="external-link">#83</a>)</li>
<li>fix to <code>BodyPattern</code> class to handle upload objects in a list; related issue fixed where <code><a href="../reference/wi_th.html">wi_th()</a></code> parameter <code>body</code> was not handling upload objects (<a href="https://github.com/ropensci/webmockr/issues/84" class="external-link">#84</a>) (<a href="https://github.com/ropensci/webmockr/issues/85" class="external-link">#85</a>)</li>
<li>httr requests were failing when vcr loaded, but with no cassette inserted; fixed <code>handle_request()</code> to skip vcr-related code unless a cassette is inserted (<a href="https://github.com/ropensci/webmockr/issues/86" class="external-link">#86</a>) (<a href="https://github.com/ropensci/webmockr/issues/88" class="external-link">#88</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="webmockr-050">webmockr 0.5.0<a class="anchor" aria-label="anchor" href="#webmockr-050"></a></h2><p class="text-muted">CRAN release: 2019-12-04</p>
<div class="section level4">
<h4 id="new-features-0-5-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-5-0"></a></h4>
<ul><li>
<code>webmockr</code> now supports mocking writing to disk. TLDR: see <code>?mocking-disk-writing</code> to get started - That is, both of the major high level http clients in R, crul and httr, support writing directly to disk (rather than the user manually getting the http response and writing it to disk). supporting this required quite a bit of work, both in code and in thinking about how to support the various scenarios in which users can find themselves when dealing with writing to disk - Please get in touch if you have problems with this (<a href="https://github.com/ropensci/webmockr/issues/57" class="external-link">#57</a>) (<a href="https://github.com/ropensci/webmockr/issues/76" class="external-link">#76</a>)</li>
<li>gains <code><a href="../reference/request_registry.html">request_registry_clear()</a></code> method to easily clear all requests in the request registry (<a href="https://github.com/ropensci/webmockr/issues/75" class="external-link">#75</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-5-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-5-0"></a></h4>
<ul><li>better docs for R6 classes with R6 support in new roxygen2 version on cran (<a href="https://github.com/ropensci/webmockr/issues/77" class="external-link">#77</a>)</li>
<li>httr simple auth was being ignored - its now supported (simple auth with crul already worked) (<a href="https://github.com/ropensci/webmockr/issues/74" class="external-link">#74</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-5-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-0"></a></h4>
<ul><li>fix to handle raw responses that can not be converted to character, such as images; needed due to issue <a href="https://github.com/ropensci/vcr/issues/112" class="external-link uri">https://github.com/ropensci/vcr/issues/112</a> (<a href="https://github.com/ropensci/webmockr/issues/72" class="external-link">#72</a>) (<a href="https://github.com/ropensci/webmockr/issues/73" class="external-link">#73</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="webmockr-040">webmockr 0.4.0<a class="anchor" aria-label="anchor" href="#webmockr-040"></a></h2><p class="text-muted">CRAN release: 2019-08-09</p>
<div class="section level4">
<h4 id="minor-improvements-0-4-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-4-0"></a></h4>
<ul><li>fix link to http testing book, change ropensci to ropenscilabs (<a href="https://github.com/ropensci/webmockr/issues/67" class="external-link">#67</a>)</li>
<li>fixes to request matching: single match types working now (e.g., just match on query, or just on headers); in addition, header matching now works; added examples of single match types (<a href="https://github.com/ropensci/webmockr/issues/68" class="external-link">#68</a>) (<a href="https://github.com/ropensci/webmockr/issues/69" class="external-link">#69</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-4-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-0"></a></h4>
<ul><li>fix stub specification within crul and httr adapters; typo in setting headers (<a href="https://github.com/ropensci/webmockr/issues/70" class="external-link">#70</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.4" id="webmockr-034">webmockr 0.3.4<a class="anchor" aria-label="anchor" href="#webmockr-034"></a></h2><p class="text-muted">CRAN release: 2019-02-09</p>
<div class="section level4">
<h4 id="defunct-0-3-4">DEFUNCT<a class="anchor" aria-label="anchor" href="#defunct-0-3-4"></a></h4>
<ul><li>underscore methods <code><a href="../reference/to_return_-defunct.html">to_return_()</a></code> and <code><a href="../reference/wi_th_-defunct.html">wi_th_()</a></code> are defunct (<a href="https://github.com/ropensci/webmockr/issues/60" class="external-link">#60</a>) (<a href="https://github.com/ropensci/webmockr/issues/64" class="external-link">#64</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-3-4">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-3-4"></a></h4>
<ul><li>
<code><a href="../reference/to_return.html">to_return()</a></code> gains parameter <code>.list</code> (<a href="https://github.com/ropensci/webmockr/issues/60" class="external-link">#60</a>) (<a href="https://github.com/ropensci/webmockr/issues/64" class="external-link">#64</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-3-4">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-4"></a></h4>
<ul><li>typo fixes (<a href="https://github.com/ropensci/webmockr/issues/62" class="external-link">#62</a>) thanks <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> !</li>
<li>improved the print method for stubs, found in <code>StubbedRequest</code>, to have better behavior for very long strings such as in headers and bodies (<a href="https://github.com/ropensci/webmockr/issues/63" class="external-link">#63</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-4">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-4"></a></h4>
<ul><li>fix date in mocked <code>httr</code> response object to match the date format that <code>httr</code> uses in real HTTP requests (<a href="https://github.com/ropensci/webmockr/issues/58" class="external-link">#58</a>) (<a href="https://github.com/ropensci/webmockr/issues/61" class="external-link">#61</a>) via <a href="https://github.com/ropensci/vcr/issues/91" class="external-link uri">https://github.com/ropensci/vcr/issues/91</a>
</li>
<li>fix response headers in mocked <code>httr</code> response objects. <code>httr</code> makes the list of headers insensitive to case, so we now use that function from the package (<a href="https://github.com/ropensci/webmockr/issues/59" class="external-link">#59</a>) (<a href="https://github.com/ropensci/webmockr/issues/61" class="external-link">#61</a>)</li>
<li>
<code><a href="../reference/to_return.html">to_return()</a></code> and <code><a href="../reference/wi_th.html">wi_th()</a></code> drop use of the <code>lazyeval</code> package and fall back to using the simple <code>list(...)</code> - fixes problem where creating stubs was failing within <code><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">test_that()</a></code> blocks due to some weird lazy eval conflicts (i think) (<a href="https://github.com/ropensci/webmockr/issues/60" class="external-link">#60</a>) (<a href="https://github.com/ropensci/webmockr/issues/64" class="external-link">#64</a>) thanks <a href="https://github.com/karawoo" class="external-link">@karawoo</a> !</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="webmockr-030">webmockr 0.3.0<a class="anchor" aria-label="anchor" href="#webmockr-030"></a></h2><p class="text-muted">CRAN release: 2019-01-09</p>
<div class="section level4">
<h4 id="minor-improvements-0-3-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-0"></a></h4>
<ul><li>returned mocked response headers were retaining case that the user gave - whereas they should be all lowercased to match the output in <code>crul</code> and <code>httr</code>. now fixed. (<a href="https://github.com/ropensci/webmockr/issues/49" class="external-link">#49</a>) thanks <a href="https://github.com/hlapp" class="external-link">@hlapp</a></li>
<li>returned mocked response headers were not all of character class, but depended on what class was given by the user on creating the stub. this is now fixed, returning all character class values for response headers (<a href="https://github.com/ropensci/webmockr/issues/48" class="external-link">#48</a>) thanks <a href="https://github.com/hlapp" class="external-link">@hlapp</a></li>
<li>skip tests that require <code>vcr</code> if <code>vcr</code> is not available (<a href="https://github.com/ropensci/webmockr/issues/53" class="external-link">#53</a>)</li>
<li>internal change to crul adapter to produce the same http response as a new version of crul returns - adds a <code>response_headers_all</code> slot (<a href="https://github.com/ropensci/webmockr/issues/51" class="external-link">#51</a>) (<a href="https://github.com/ropensci/webmockr/issues/54" class="external-link">#54</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.9" id="webmockr-029">webmockr 0.2.9<a class="anchor" aria-label="anchor" href="#webmockr-029"></a></h2><p class="text-muted">CRAN release: 2018-11-05</p>
<div class="section level4">
<h4 id="minor-improvements-0-2-9">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-2-9"></a></h4>
<ul><li>make <code><a href="../reference/request_registry.html">request_registry()</a></code> and <code><a href="../reference/stub_registry.html">stub_registry()</a></code> print methods more similar to avoid confusion for users (<a href="https://github.com/ropensci/webmockr/issues/35" class="external-link">#35</a>)</li>
<li>update docs for <code>enable</code>/<code>disable</code> to indicate that <code>crul</code> and <code>httr</code> supported (<a href="https://github.com/ropensci/webmockr/issues/46" class="external-link">#46</a>) (related to <a href="https://github.com/ropensci/webmockr/issues/45" class="external-link">#45</a>)</li>
<li>wrap httr adapter examples in <code>requireNamespace</code> so only run when httr available</li>
<li>clean up <code>.onLoad</code> call, removing commented out code, and add note about creating adapter objects does not load crul and httr packages</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-2-9">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-9"></a></h4>
<ul><li>fix to <code><a href="../reference/enable.html">enable()</a></code> and <code><a href="../reference/enable.html">disable()</a></code> methods. even though <code>httr</code> is in Suggests, we were loading all adapters (crul, httr) with <code>stop</code> when the package was not found. We now give a message and skip when a package not installed. In addition, we <code><a href="../reference/enable.html">enable()</a></code> and <code><a href="../reference/enable.html">disable()</a></code> gain an <code>adapter</code> parameter to indicate which package you want to enable or disable. If <code>adapter</code> not given we attempt all adapters. Note that this bug shouldn’t have affected <code>vcr</code> users as <code>httr</code> is in Imports in that package, so you’d have to have <code>httr</code> installed (<a href="https://github.com/ropensci/webmockr/issues/45" class="external-link">#45</a>) thanks to <a href="https://github.com/maelle" class="external-link">@maelle</a> for uncovering the problem</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.8" id="webmockr-028">webmockr 0.2.8<a class="anchor" aria-label="anchor" href="#webmockr-028"></a></h2><p class="text-muted">CRAN release: 2018-10-19</p>
<div class="section level4">
<h4 id="new-features-0-2-8">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-2-8"></a></h4>
<ul><li>Added support for integration with package <code>httr</code>; see <code>HttrAdapter</code> for the details; <code>webmockr</code> now integrates with two HTTP R packages: <code>crul</code> and <code>httr</code> (<a href="https://github.com/ropensci/webmockr/issues/43" class="external-link">#43</a>) (<a href="https://github.com/ropensci/webmockr/issues/44" class="external-link">#44</a>)</li>
<li>Along with <code>httr</code> integration is a new method <code><a href="../reference/httr_mock.html">httr_mock()</a></code> to turn on mocking for <code>httr</code>; and two methods <code>build_httr_response</code> and <code>build_httr_request</code> meant for internal use</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.6" id="webmockr-026">webmockr 0.2.6<a class="anchor" aria-label="anchor" href="#webmockr-026"></a></h2><p class="text-muted">CRAN release: 2018-05-17</p>
<div class="section level4">
<h4 id="new-features-0-2-6">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-2-6"></a></h4>
<ul><li>Added support for integration with package <code>vcr</code> (now on CRAN) for doing HTTP request caching</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.4" id="webmockr-024">webmockr 0.2.4<a class="anchor" aria-label="anchor" href="#webmockr-024"></a></h2><p class="text-muted">CRAN release: 2018-05-08</p>
<div class="section level4">
<h4 id="new-features-0-2-4">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-2-4"></a></h4>
<ul><li>New function <code><a href="../reference/enable.html">enabled()</a></code> to ask if <code>webmockr</code> is enabled, gives a boolean</li>
<li>
<code><a href="../reference/wi_th.html">wi_th()</a></code> gains new parameter <code>.list</code> as an escape hatch to avoid NSE. examples added in the <code>wi_th</code> man file to clarify its use</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-2-4">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-2-4"></a></h4>
<ul><li>matching by request body was not supported, it now is; added examples of matching on request body, see <code><a href="../reference/stub_request.html">?stub_request</a></code> (<a href="https://github.com/ropensci/webmockr/issues/36" class="external-link">#36</a>)</li>
<li>make sure that the adapter for <code>crul</code> handles all types of matches (<a href="https://github.com/ropensci/webmockr/issues/29" class="external-link">#29</a>)</li>
<li>removed all internal usage of pipes in the package. still exporting pipe for users (<a href="https://github.com/ropensci/webmockr/issues/30" class="external-link">#30</a>)</li>
<li>fixed internals to give vcr error when vcr loaded - for future release with vcr support (<a href="https://github.com/ropensci/webmockr/issues/34" class="external-link">#34</a>)</li>
<li>require newest <code>crul</code> version</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-2-4">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-4"></a></h4>
<ul><li>Error messages with the suggest stub were not giving bodies. They now give bodies if needed along with method, uri, headers, query (<a href="https://github.com/ropensci/webmockr/issues/37" class="external-link">#37</a>)</li>
<li>Fixed <code>Response</code> class that was not dealing with capitalization correctly</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="webmockr-020">webmockr 0.2.0<a class="anchor" aria-label="anchor" href="#webmockr-020"></a></h2><p class="text-muted">CRAN release: 2018-03-02</p>
<div class="section level4">
<h4 id="new-features-0-2-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h4>
<ul><li>New function <code><a href="../reference/to_raise.html">to_raise()</a></code> to say that a matched response should return a certain exception, currently <code>to_raise</code> accepts error classes from the <code>fauxpas</code> package (<a href="https://github.com/ropensci/webmockr/issues/9" class="external-link">#9</a>)</li>
<li>New function <code><a href="../reference/to_timeout.html">to_timeout()</a></code> to say that a matched response should return a timeout. This is a special case of <code>to_raise</code> to easily do a timeout expectation (<a href="https://github.com/ropensci/webmockr/issues/11" class="external-link">#11</a>)</li>
<li>New function <code><a href="../reference/request_registry.html">request_registry()</a></code> to list requests in the request registry (<a href="https://github.com/ropensci/webmockr/issues/23" class="external-link">#23</a>)</li>
<li>package <code>crul</code> moved to Imports from Suggests as it’s the only http client supported for now. will move back to Suggests once we support at least one other http client</li>
<li>
<code><a href="../reference/webmockr_configure.html">webmockr_configure()</a></code> changes: <code>turn_on</code> has been removed; <code>allow_net_connect</code> and <code>allow_localhost</code> were ignored before, but are now used and are now set to <code>FALSE</code> by default; fixed usage of <code>allow</code> which now accepts character vector of URLs instead of a boolean; the following correctly marked as being ignored for now until fixed <code>net_http_connect_on_start</code>, <code>show_stubbing_instructions</code>, <code>query_values_notation</code>, <code>show_body_diff</code> (<a href="https://github.com/ropensci/webmockr/issues/19" class="external-link">#19</a>) (<a href="https://github.com/ropensci/webmockr/issues/21" class="external-link">#21</a>)</li>
<li>
<code><a href="../reference/webmockr_configure.html">webmockr_disable_net_connect()</a></code> now accepts an <code>allow</code> parameter to disable all other connections except those URLs given in <code>allow</code>
</li>
<li>
<code><a href="../reference/webmockr_configure.html">webmockr_net_connect_allowed()</a></code> now accepts a <code>uri</code> parameter to test if a URI/URL is allowed</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-0-2-0">MINOR IMPROVEMENTS<a class="anchor" aria-label="anchor" href="#minor-improvements-0-2-0"></a></h4>
<ul><li>Fixed printed stub statement when printed to the console - we weren’t including headers accurately (<a href="https://github.com/ropensci/webmockr/issues/18" class="external-link">#18</a>)</li>
<li>Added examples to the <code><a href="../reference/stub_registry.html">stub_registry()</a></code> and <code>stub_registry_clea()</code> manual files (<a href="https://github.com/ropensci/webmockr/issues/24" class="external-link">#24</a>)</li>
<li>internal methods <code>build_crul_request</code> and <code>build_crul_response</code> moved outside of the <code>CrulAdapter</code> class so that they can be accesed like <code>webmockr::</code> in other packages</li>
<li>
<code><a href="../reference/enable.html">enable()</a></code> and <code><a href="../reference/enable.html">disable()</a></code> now return booleans invisibly</li>
<li>General improvements to documentation throughout</li>
<li>Added linting of user inputs to the <code><a href="../reference/to_return.html">to_return()</a></code> method, and docs details on what to input to the method</li>
<li>Added linting of user inputs to the <code><a href="../reference/wi_th.html">wi_th()</a></code> method, and docs details on what to input to the method</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-2-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-0"></a></h4>
<ul><li>Fixed option <code>allow_localhost</code>, which wasn’t actually workin before (<a href="https://github.com/ropensci/webmockr/issues/25" class="external-link">#25</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="deprecated-and-defunct-0-2-0">DEPRECATED AND DEFUNCT<a class="anchor" aria-label="anchor" href="#deprecated-and-defunct-0-2-0"></a></h4>
<ul><li>
<code><a href="../reference/webmockr_enable-defunct.html">webmockr_enable()</a></code> and <code>webmockr_disable</code> are now defunct. Use <code><a href="../reference/enable.html">webmockr::enable()</a></code> and <code><a href="../reference/enable.html">webmockr::disable()</a></code> instead</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="webmockr-010">webmockr 0.1.0<a class="anchor" aria-label="anchor" href="#webmockr-010"></a></h2><p class="text-muted">CRAN release: 2017-05-20</p>
<div class="section level4">
<h4 id="new-features-0-1-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-1-0"></a></h4>
<ul><li>Released to CRAN.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>





  </body></html>

